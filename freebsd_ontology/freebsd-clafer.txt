root
	abstract "Hardware Option"
		abstract SMP_OPTION
			SMP ?
				NO_ADAPTIVE_SX ?
				NO_ADAPTIVE_RWLOCKS ?
				NO_ADAPTIVE_MUTEXES ?
				abstract "No Inlining"
					MUTEX_NOINLINE ?
					RWLOCK_NOINLINE ?
					SX_NOINLINE ?
			IPI_PREEMPTION ?
			abstract SMP_Debugging_Option
				TURNSTILE_PROFILING ?
				SLEEPQUEUE_PROFILING ?
				MUTEX_DEBUG ?
				PREEMPTION ?
					FULL_PREEMPTION ?
				WITNESS ?
					WITNESS_SKIPSPIN ?
					WITNESS_KDB ?
				LOCK_PROFILING ?
					MPROF_BUFFERS
					MPROF_HASH_SIZE
		apic ?
			MPTABLE_FORCE_HTT ?
		npx
		isa ?
	abstract "Tracing, Debugging and Analysis Option"
		abstract Performance_Monitoring_Option
			hwpmc ?
			HWPMC_HOOKS ?
		abstract Debugging_Option
			ALQ ?
				KTR_ALQ ?
			KTR ?
				KTR_COMPILE // sub-features (source code constants) ommitted here
				KTR_ENTRIES
				KTR_CPUMASK
				KTR_MASK
				KTR_VERBOSE ?
			GDB ?
			STACK ?
			KDB ?
				KDB_UNATTENDED ?
				DDB ?
					DDB_NUMSYM ?
				KDB_TRACE ?
			DEBUG_REDZONE ?
			SYSCTL_DEBUG ?
			DEBUG_MEMGUARD ?
			INVARIANTS ?
			INVARIANT_SUPPORT ?
			KTRACE ?
				KTRACE_REQUEST_POOL
			DIAGNOSTIC ?
			REGRESSION ?
			RESTARTABLE_PANICS ?
			COMPILING_LINT ?
			KDTRACE_HOOKS ?
	abstract "Global Kernel Option"
		xor abstract "Machine Architecture"
			sparc64
			sun4v
				DTRACE ?
			pc98
			xor i386
				I486_CPU
				I586_CPU
				I686_CPU
			ia64
			amd64
				HAMMER ?
		INCLUDE_CONFIG_FILE ?
	abstract Compatibility_Option
		abstract ABI_Emulation
			IBCS2 ?
			SPX_HACK ?
			COMPAT_LINUX ?
				LINSYSFS ?
				LINPROCFS ?
			COMPAT_AOUT ?
			abstract SysVR4_ABI_emulation
				COMPAT_SVR4 ?
					DEBUG_SVR4 ?
					streams
	abstract Scheduler_Option
		xor
			SCHED_ULE
			SCHED_4BSD
		SCHED_STATS ?
	abstract Filesystem_Option
		PSEUDOFS ?

[npx -> i386 || pc98]
[npx -> isa]
[isa -> i386 || pc98 || amd64 || ia64 || sparc64]
[SCHED_ULE -> !SCHED_4BSD]
[SPX_HACK -> COMPAT_SVR4]
[SPX_HACK -> streams]
[SPX_HACK -> SYSVSHM]
[SPX_HACK -> SYSVMSG]
[SPX_HACK -> SYSVSEM]
[SPX_HACK -> KTRACE]
[SPX_HACK -> IBCS2]
[DDB -> STACK]
[SUN4V -> SCHED_ULE]
[apic -> pc98 || i386]
[MPTABLE_FORCE_HTT -> i386]
[LINPROCFS -> streams]
[LINPROCFS -> PSEUDOFS]
[LINPROCFS -> COMPAT_SVR4]
[LINPROCFS -> PROCFS]
[LINPROCFS -> SYSVSEM]
[LINPROCFS -> SYSVMSG]
[LINPROCFS -> KTRACE]
[hwpmc -> HWPMC_HOOKS]
[ia64 -> pci]
[ia64 -> acpi]
[ia64 -> ACPI_DEBUG]
[SMP -> SCHED_ULE]
[SMP -> npx]
[SMP -> apic]
[WITNESS_KDB -> KDB]
[KTR_ALQ -> KTR]
[DDB_NUMSYM -> STACK]
[LINSYSFS -> SYSVSEM]
[LINSYSFS -> streams]
[LINSYSFS -> KTRACE]
[LINSYSFS -> PSEUDOFS]
[LINSYSFS -> COMPAT_SVR4]
[DEBUG_SVR4 -> streams]
[DEBUG_SVR4 -> KTRACE]
[COMPAT_LINUX -> streams]
[COMPAT_LINUX -> KTRACE]
[COMPAT_LINUX -> SYSVSEM]
[COMPAT_LINUX -> COMPAT_SVR4]
[DEBUG_REDZONE -> DDB]
[DEBUG_REDZONE -> STACK]
[COMPAT_SVR4 -> streams]
[COMPAT_SVR4 -> KTRACE]
[IBCS2 -> streams]
[IBCS2 -> SYSVSEM]
[IBCS2 -> KTRACE]
[IBCS2 -> SYSVMSG]
[IBCS2 -> SYSVSHM]
[IBCS2 -> COMPAT_SVR4]
[DTRACE -> SCHED_ULE]
